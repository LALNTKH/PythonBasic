# Python序列

## 序列概述
   Python中常用的序列结构有列表、元组、字符串，字典、集合，以及range、 zip、filter等对象也支持很多类似的操作。

### 列表
- 列表是Python中内置有序、可变序列，列表的所有元素放在一对中括号[]中，并使用逗号分隔开;
- 当列表元素增加或删除时，列表对象自动进行扩展或收缩内存，保证元素之间没有缝隙;
- 在Python中，一个列表中的数据类型可以各不相同，可以同时分别为整数、实数、字符串等基本类型，甚至是列表、元组、字典、集合以及其他自定义类型的对象。
##### 列表对象常用方法
| 方法                                                       | 描述                           |
| ------------------------------------------------------------ | ------------------------------ |
| lst.append(x)                                                  | 将元素x添加至列表lst尾部                    |
| lst.extend(L)                                                  | 将可迭代对象L中所有元素添加至列表lst尾部                    |
| lst.insert(index, x)                                           | 在列表Ist指定位置index处添加元素x，该位置后面的所有元素后移一个位置                    |
| lst.remove(x)                                                  | 在列表lst中删除首次出现的指定元素，该元素之后的所有元素前移一个位置                    |
| lst.pop([index])                                               | 删除并返回列表lst中下标为index（默认为-1）的元素                    |
| lst.clear()                                                    | 删除列表lst中所有元素，但保留列表对象                    |
| lst.index(x)                                                   | 返回列表Ist中第一个值为x的元素的下标，若不存在值为x的元素则抛出异常                    |
| lst.count(x)                                                   | 返回指定元素x在列表Ist中的出现次数                    |
| lst.reverse()                                                  | 对列表lst所有元素进行逆序                    |
| lst.sort(key=None,reverse=False)                               | 对列表Ist中的元素进行排序，key用来指定排序依据，reverse决定升序（False）还是降序（True）                    |
| lst.copy()                                                     | 返回列表lst的浅复制                    |

#### 列表创建与删除
- 使用"-"直接将一个列表赋值给变量即可创建列表对象
```
>>>a list = ['a','b','c']
```
- 创建空列表
```
>>> a_list=[]
```
- 也可以使用'list()'函数将元组、range对象、字符串或其他类型的可迭代对象类型的数据转换为列表。
```
>>>a list= list((3,5, 7, 9,11))
>>> a_list [3,5.7,9,11]
>>> list(range(1, 10,2))  [1,3,5,7,9]
>>> list(hello world)
```
- 创建空列表
```
>>>x= list()
```

- 当不再使用时，使用del命令删除整个列表。
```
>>> del a_list
```

#### 列表元素的增加

##### 使用"+"运算符将元素添加到列表中。

- 严格意义上来讲，这并不是真的为列表添加元素，而是创建了一个新列表，并将原列表中的元素和新元素依次复制到新列表的内存空间。由于涉及大量元素的复制，该操作速度较慢，在涉及大量元素添加时不建议使用该方法

```
>>> aList= [3,4,5]
>>> aList = aList+ [7]
>>>aList [3,4,5,7]
```


##### 使用列表对象的append（）方法。
- 该方法在当前列表尾部追加元素，原地修改列表，是真正意义上的在列表尾部添加元素，速度较快。
```
>>>aListappend(9)
>>>aList [3,4,5,7,9]
```

##### 使用列表对象的extend（）方法
- 可以将另一个迭代对象的所有元素添加至该列表对象尾部。通过extend（）方法来增加列表元素也不改变其内存首地址，属于原地操作。
```
>>>a=[]
>>> a.extend([9, 7])
>>>a.extend((5, ))
>>> a.extend({3, 1})
>>>a [9.7,5,1,3]
```
- 运算符+=类似于列表的extend（）方法。
```
>>> a +='12'
>>> a+= range(3,-3,-2)
>>> a += map(str, range(2)
>>>a [9.7.5,1.3.1.2.3,1,-1.0.1]
```

##### 使用列表对象的insertO方法将元素添加至列表的指定位置
```
>>>aList=[3,4,5,7,9,11,13,15,17]#在下标为3的位置插入元素6
>>> aList.insert(3, 6)
>>> aList [3,4,5,6,7,9,11,13,15,17]
```

##### 使用乘法来扩展列表对象
- 将列表与整数相乘，生成一个新列表，新列表是原列表中元素的重复。
```
>>>aList=[3,5]*2]*3 [[3,5,3,5].[3,5,3,5],[3,5,3,5]
```
- 当使用运算符将包含列表的列表重复并创建新列表时，并不是复制子列表值，而是复制已有元素的引用。因此，当修改其中一个值时，相应的引用也会被修改。
```
>>> aList[0][0] = 1
>>> aList [[1,5,3,5],[1,5,3,5],[1,5,3,5]
```


#### 列表元素的删除
##### 使用del命令删除列表中的指定位置上的元素
```
>>> a list=[3,5,7,9,11]
>>> del a list[1]
>>>a list[3,7,9,11]
```
##### 使用列表的pop()方法
- 删除并返回指定位置（默认为最后一个）上的元素，如果给定的索引超出了列表的范围则抛出异常。
```
>>>a list= list(3,5,7,9,11)
>>> a listpop() 11
>>> a list[3,5,7,9]
>>> a list.pop(1) 5
>>> a_list[3,7,9] 
```

##### 使用列表对象的remove()方法
- 删除首次出现的指定元素，如果列表中不存在要删除的元素，则抛出异常。
```
>>>a list =[3,5,7,9,7,11]
>>> a list.remove(7)
>>> a list[3,5,9,7,1]
```
##### 注意事项
- 应尽量从列表尾部进行元素的增加与删除操作。
- 列表的`insert（）`可以在列表的任意位置插入元素，但由于列表的自动内存管理功能， `insert（）`方法会引起插入位置之后所有元素的移动，这会影响处理速度。
- 类似的还有`remove()`方法以及使用`pop()`函数弹出列表非尾部元素和使用del命令删除列表非尾部元素的情况。


#### 列表元素访问与计数
- 使用下标直接访问列表元素，如果指定下标不存在，则抛出异常。
- 使用列表对象的index（）方法获取指定元素首次出现的下标，若列表对象中不存在指定元素，则抛出异常。

- 使用列表对象的count（）方法统计指定元素在列表对象中出现的次数。
- Python采用的是基于值的自动内存管理方式，当为对象修改值时，并不是真的直接修改变量的值，而是使变量指向新的值，这对于Python所有类型的变量都是一样的。
##### 注意事项
- 列表中包含的是元素值的引用，而不是直接包含元素值。
- 如果是直接修改序列变量的值，则与Python普通变量的情况是一样的。
- 如果是通过下标来修改序列中元素的值或通过可变序列对象自身提供的方法来增加和删除元素时，序列对象在内存中的起始地址是不变的，仅仅是被改变值的元素地址发生变化，也就是所谓的"原地操作"。






#### 成员资格判断
- 使用`in`关键字来判断一个值是否存在于列表中，返回结果为`True`或 `False`。

#### 切片操作
- 切片适用于列表、元组、字符串、range对象等类型，但作用于列表时功能最强大。可以使用切片来截取列表中的任何部分，得到一个新列表，也可以通过切片来修改和删除列表中部分元素，甚至可以通过切片操作为列表对象增加元素。
- 切片使用2个冒号分隔的3个数字来完成∶√ 第一个数字表示切片开始位置（默认为0）。
  - 第二个数字表示切片截止（但不包含）位置（默认为列表长度）。
  - 第三个数字表示切片的步长（默认为1），当步长省略时可以顺便省略最后一个冒号。
- 切片操作不会因为下标越界而抛出异常，而是简单地在列表尾部截断或者返回一个空列表，代码具有更强的健壮性。
##### 可以使用切片来原地修改列表内容


##### 使用del与切片结合来删除列表元素

##### 注意事项
- 切片返回的是浅复制。所谓浅复制，是指生成一个新的列表，并且把原列表中所选元素的引用都复制到新列表中。如果原列表中只包含整数、实数、复数等基本类型或元组、字符串这样的不可变类型的数据，一般是没有问题的。
- 如果原列表中包含列表之类的可变数据类型，由于浅复制时只是把子列表的引用复制到新列表中，这样的话修改任何一个都会影响另外一个。
- 标准库copy中的deepcopy()函数实现深复制。所谓深复制，是指对原列表中的元素进行递归，把所有的值都复制到新列表中，对嵌套的子列表不再是复制引用。新列表和原列表互相独立，修改任何一个都不会影响另外一个


#### 列表排序
- 使用列表对象的sort()方法进行原地排序，支持多种不同的排序。
  - sort（）方法没有返回值。
- 使用内置函数sorted()对列表进行排序并返回排序后的新列表。
- 使用列表对象的reverse()方法将元素原地逆序。
- 使用内置函数reversed()对列表元素进行逆序排列并返回迭代器对象。

#### 用于序列操作的常用内置函数
- all()函数用来测试列表、元组等序列对象以及map对象、zip对象等类似对象中是否所有元素都等价于True
- any()函数用来测试序列或可迭代对象中是否存在等价于True的元素。
- len()函数返回列表中的元素个数，同样适用于元组、字典、集合、字符串等。
- max()、min()函数返回列表中的最大或最小元素，同样适用于元组、字典、集合、range对象等。
- sum()函数对列表的元素进行求和运算，对非数值型列表运算需要指定start参数，同样适用于元组、range。
- zip()函数返回可迭代的zip对象。
- enumerate()函数枚举列表元素，返回枚举对象，其中每个元素为包含下标和值的元组。该函数对元组、字符串同样有效。


#### 列表推导式
- 列表推导式使用非常简洁的方式来快速生成满足特定需求的列表，代码具有非常强的可读性。
- 列表推导式在内部实际上是一个循环结构，只是形式更加简洁。


### 元组
- 元组和列表类似，但属于不可变序列，元组一旦创建，用任何方法都不可以修改其元素。
- 元组的定义方式和列表相同，但定义时所有元素是放在一对圆括号"（）"中，而不是方括号"[]"中。


#### 元组创建与删除
- 使用"="将一个元组赋值给变量
- 使用tuple函数将其他序列转换为元组
- 使用del可以删除元组对象，不能删除元组中的元素




#### 元组与列表的区别
- 元组一旦定义就不允许更改。
- 元组没有append()、extend()和insert()等方法，无法向元组中添加元素。元组没有remove()或pop()方法，也无法对元组元素进行del操作，不能从元组中删除元素。
- 元组的速度比列表更快。如果定义了一系列常量值，而所需做的仅是对它进行遍历，那么一般使用元组而不用列表。
- 元组对不需要改变的数据进行"写保护"将使得代码更加安全。元组可用作字典的"键"，也可以作为集合的元素。列表不能作为字典的"键"，包含列表、字典、集合或其他类型可变对象的元组也不能做字典的"键"。
- 如果元组中包含列表或其他类型的可变对象，这些对象是可变的，但元组元素的引用仍是不可变的。





